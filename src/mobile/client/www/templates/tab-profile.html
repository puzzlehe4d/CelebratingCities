<ion-view view-title="Account" class="content-main">
  <ion-content class='center'>

    <h2 ng-show='!vm.loading'>Welcome {{vm.profile.first_name}} {{vm.profile.last_name}},</h2>
    <h4 ng-show='!vm.loading'>Current Ride</h4> <span ng-show="vm.isOwner"> (Owner)</span>
    <div ng-show='!vm.ride'>
      <h5>You are not currently riding</h5>
    </div>
    <ion-list ng-show="vm.ride" class="hub-list" show-delete="shouldShowDelete" show-reorder="shouldShowReorder" can-swipe="listCanSwipe">
      <ion-item class="item-avatar item-icon-right" ng-click="vm.navToRide()">
        <div class="badge">
          <span>{{vm.ride.eta}} <p>min</p></span>
        </div>

        <h2>Driver: {{vm.ride.driver}}</h2>
        <p>Vehicle: {{vm.ride.vehicle}}</p>
        <p>Surge Multiplier: <strong>{{vm.ride.surge_multiplier}}</strong></p>
        <p><strong>Start: </strong> {{vm.ride.hub.address}}</p>
        <p><strong>End:</strong> {{vm.ride.hub.endPoint}}</p>
        <ion-option-button ng-show='!vm.isOwner' class="button-positive" ng-click="vm.leaveRide()"> Leave Ride </ion-option-button>
        <ion-option-button ng-show='vm.isOwner' class="button-assertive" ng-click="vm.cancelRide()"> Cancel Ride </ion-option-button>
      </ion-item>
    </ion-list>
  	<h4 ng-show='!vm.loading'>Your Hubs</h4>
    <div ng-show='!vm.hubs.length'>
    <h5>You have not added any hubs!</h5>
      <input type="submit" class="button button-balanced button-block" value="Search for a hub" ng-click="vm.navToStart()">
    </div>
  	<ion-list ng-show="vm.hubs.length" class="hub-list">
      <ion-item class="item-avatar item-icon-right" ng-repeat="hub in vm.hubs" type="item-text-wrap" href="/#/tab/start/results/{{hub.id}}">
        <div class="badge">
          <span>{{hub.duration}} <p>mins</p></span>
        </div>
        <h2>{{hub.name}}</h2>
        <p>{{hub.address}}</p>
        <p>To: <strong>{{hub.endPoint}}</strong></p>
        <p>Leaving at: <strong>{{hub.leaveTime | date: "HH:mm"}}</strong></p>
        <p>Duration: <strong>{{hub.duration}}</strong> mins</p>
        <i class="icon ion-chevron-right icon-accessory"></i>

       <!--  <ion-option-button class="button-assertive" ng-click="remove(hub)">
          Delete
        </ion-option-button> -->
      </ion-item>
    </ion-list>
  </ion-content>
</ion-view>
